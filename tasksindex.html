<!DOCTYPE html>
<html>

<head>
  <link rel="stylesheet" href="tasksmain.css">
  <link type="text/css" src="./dist/bttn.min.css" />
</head>
<!-- <body onload='loadpendingtodolist()'>-->
<body onload='loadtodolist()'>
    <div class="flex-container">
        <p>
          <input id="new-task" type="text" class="newinput">
          <button id ="add-button" class="addbutton"><img src="add.svg" id = "addimage" class = "addimage"></button>
          <button onclick="location.href='https://assistant.google.com/services/a/uid/000000864377308f'" id ="assist-button" class="addbutton"><img src="assist.svg" id = "assistimage" class = "addimage"></button>
          <button id ="signout-button" class="signoutbutton" onclick="AppSignout()"><img src="signout.svg" id = "signoutimage" class = "signoutimage"></button>
        </p>
        <ul id="incomplete-tasks">
        </ul>
        <p>
        <button id ="show-complete-button" class="showcompletedbutton" onclick="loadcompletedtodolist()">Show Completed Tasks</button>
        </p>
        <ul id="completed-tasks">
        </ul>
        <p>
          <button id ="show-future-button" class="showcompletedbutton" onclick="loadfuturetodolist()">Show Future Tasks</button>
        </p>
        <ul id="future-tasks">
        </ul>
      </div>
  <script src="firebase.js"></script>
 <script src="firebase-firestore.js"></script>
 <script src="chrono.min.js"></script>

 <script>
  // Initialize Firebase
  // TODO: Replace with your project's customized code snippet
  var config = {
    apiKey: "AIzaSyAQ--7BYrBnmjsdX8LvNIOu8uIE7alDsAE",
    authDomain: "listspeaker.firebaseapp.com",
    databaseURL: "https://listspeaker.firebaseio.com",
    projectId: "listspeaker",
    storageBucket: "listspeaker.appspot.com",
    messagingSenderId: "576657502351"
  };
  firebase.initializeApp(config);
  firebase.firestore().enablePersistence()
  .then(function () {
   // Initialize Cloud Firestore through firebase
   console.log("Cache is enabled");
 })
  .catch(function(err) {
      if (err.code == 'failed-precondition') {
console.log("no cache on this browser");
      } else if (err.code == 'unimplemented') {
        console.log("no cache on this browser");
      }
  });
// Subsequent queries will use persistence, if it was enabled successfully

  //Handle Account Status
firebase.auth().onAuthStateChanged(user => {
  if(user) {}
  else{
    window.location = 'taskssignin.html';
  }
});

</script>
<script type="text/javascript" src="tasksapp.js"></script>

</body>

</html>
